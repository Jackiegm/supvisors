<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/doc_style.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/button.css">
    <title>Supvisors: A Control System for Distributed Applications</title>
</head>

<body>
    <div id="body_block">

        <div id="left_side">
            <header>
                <h1><a href="https://github.com/julien6387/supvisors" target="_blank">Supvisors</a></h1>
    			<p class="version">0.1beta</p>
    		</header>

			<nav>
    		    <ul>
	 			    <li><a href="index.html">Introduction</a></li>
                    <li><a href="xml-rpc-api.html">XML-RPC API</a></li>
                    <li><a href="supervisorctl-api.html">supervisorctl API</a></li>
                    <li><a href="event-interface.html">Event Interface</a></li>
                    <li><a href="dashboard.html" class="active">HTTP Dashboard</a><ul>
            		    <li><a href="#menu">Menu</a></li>
            		    <li><a href="#main-page">Main Page</a></li>
             		    <li><a href="#conciliation-page">Conciliation Page</a></li>
              	        <li><a href="#address-page">Address Page</a></li>
               	        <li><a href="#application-page">Application Page</a></li>
                    </ul></li>
                    <li><a href="design.html">Software Design</a></li>
                </ul>
			</nav>

			<footer>
				<p>Contact: <a href="mailto:julien.6387.dev@gmail.com">Julien Le Cl&eacute;ach</a></p>
				<p id="copyright">&copy; Copyright 2016 Julien LE CLEACH</p>
			</footer>
		</div>

		<div id="right_side">
			<header>
				<h2>Documentation &raquo; Dashboard</h2>
			</header>

			<section id="doc-contents">
                <p>Each Supervisor instance provides a <a href="http://supervisord.org/introduction.html#supervisor-components" class="extLink">Web Server</a> and the Supvisors extension provides the following web user interface, as a replacement of the Supervisor one.</p>
                <p><strong>Pages are not auto-refreshed.</strong><br />
                The 'Refresh' button on the top right corner of all pages does the job.</p>

				<div class="note">
					<p>Note about the browser compliance</p>
					<p>As the present documentation, the CSS of the web pages has been written for Firefox ESR 45.4.0.<br />
                    The compatibility with other browsers or other versions of Firefox is unknown.</p>
				</div>

                <p>All pages are divided into 3 parts:</p>
                <ul>
                    <li>the <a href="#menu" class="intLink">Common Menu</a> on the left side,</li>
                    <li>a header on the top right,</li>
                    <li>the contents itself on the lower right.</li>
                </ul>


                <h2 id="menu">Common Menu</h2>

                <div id="menu-contents">
                    <aside><img src="img/supvisors_menu.png" alt="Menu" id="web_menu"></aside>
                    <section>
                        <div>
                            <p>Clicking on 'Supvisors' brings the <a href="#main-page" class="intLink">Main page</a> back or the <a href="#conciliation-page" class="intLink">Conciliation page</a> if it blinks in red.<br />
                            The version of Supvisors is displayed.</p>
                        </div>
                        <div>
                            <p>Below is the Addresses part that lists all the addresses defined in the <a href="index.html#supvisors-section" class="intLink">supvisors section</a> of the Supervisor configuration file.<br />
                            The color gives the state of the Address, as seen by the Supvisors instance that is displaying this page:</p>
                            <ul>
                                <li>grey for <code>UNKNOWN</code>,</li>
                                <li>yellow for <code>SILENT</code>,</li>
                                <li>green for <code>RUNNING</code>,</li>
                                <li>red for <code>ISOLATED</code>.</li>
                            </ul>
                            <p>Only the hyperlinks of the <code>RUNNING</code> addresses are active. The browser is redirected to the <a href="#address-page" class="intLink">Address page</a> of the corresponding Web Server.<br />
                            The Supvisors instance playing the role of "Master" is pointed out with the &#10026; sign.</p>
                       </div>
                        <div>
                            <p>Below is the Application part that lists all the applications defined through the <a href="http://supervisord.org/configuration.html#group-x-section-settings" class="extLink">group sections</a> of the Supervisor configuration file.<br />
                            The color gives the state of the Application, as seen by the Supvisors instance that is displaying this page:</p>
                            <ul>
                                <li>grey for <code>UNKNOWN</code>,</li>
                                <li>yellow for <code>STOPPED</code>,</li>
                                <li>yellow-to-green gradient for <code>STARTING</code>,</li>
                                <li>green-to-yellow gradient for <code>STOPPING</code>,</li>
                                <li>green for <code>RUNNING</code>.</li>
                            </ul>
                            <p>All hyperlinks are active. The browser is redirected to the corresponding <a href="#application-page" class="intLink">Application page</a> on the local Web Server.</p>
                       </div>
                        <div>
                            <p>The bottom part of the menu contains a contact link and copyright information.</p>
                       </div>
                    </section>
                </div>

                
				<h2 id="main-page">Main page</h2>
                <p>The Main page shows a synoptic of the Supvisors status.</p>

                <figure>
                    <img src="img/supvisors_main_page.png" alt="Main page">
                    <figcaption>Supvisors Main page</figcaption>
                </figure>

                <h3>Main page Header</h3>
                <p>The state of Supvisors is displayed on the left side of the header:</p>
                <ul>
                    <li><code>INITIALISATION</code> corresponds to the Supvisors starting phase, waiting for all Supvisors instances to connect themselves,</li>
                    <li><code>DEPLOYMENT</code> corresponds to the phase when Supvisors is automatically starting applications (<a href="design.html#deployment" class="intLink">here</a> for more details),</li>
                    <li><code>OPERATION</code> corresponds to the supervising phase in which the Supvisors <a href="xml-rpc-api.html" class="intLink">XML-RPC</a> are available,</li>
                    <li><code>CONCILIATION</code> corresponds to the phase when Supvisors is solving conflicts (<a href="design.html#conciliation" class="intLink">here</a> for more details).</li>
                </ul>

                <p>On the right side, 3 buttons are available:</p>
                <ul>
                    <li><img src="img/restart_40.png" alt="Restart button"> restarts Supvisors through all Supervisor instances,</li>
                    <li><img src="img/shutdown_40.png" alt="Shutdown button"> shuts down Supvisors through all Supervisor instances,</li>
                    <li><img src="img/reload_30.png" alt="Refresh button" class="button"> refreshes the current page.</li>
                </ul>

                <h3>Main page Contents</h3>
                <p>For every addresses, a box is displayed in the contents of the Supervisor Main page.<br />
                Each box contains:</p>
                <ul>
                    <li>the address name, which is a hyperlink to the corresponding <a href="#address-page" class="intLink">Address page</a> if the Address state is <code>RUNNING</code>,</li>
                    <li>the state of the Address, colord with the same rules used in the <a href="#menu" class="intLink">Menu</a>,</li>
                    <li>the process loading of the Address,</li>
                    <li>the list of all processes that are running on this address.</li>
                </ul>

                
				<h2 id="conciliation-page">Conciliation page</h2>
                <p>If the page is refreshed when Supvisors is in <code>Conciliation</code> state, the 'Supvisors' label in the top left of the common <a href="#menu" class="intLink">Menu</a> becomes red and blinks.<br />
                This situation is unlikely to happen if the <a href="index.html#supvisors-section" class="intLink">Conciliation Strategy</a> chosen in the Supvisors section of the configuration file is different from <code>USER</code>.</p>
                <p>The Conciliation page can be reached by clicking on this blinking red label.</p>

                <figure>
                    <img src="img/supvisors_conciliation_page.png" alt="Conciliation page">
                    <figcaption>Supvisors Conciliation page</figcaption>
                </figure>

                <h3>Conciliation page Header</h3>
                <p>The header of the Conciliation page has exactly the same contents as the <a href="#main-header" class="intLink">header</a> of the Main page.</p>

                <h3>Conciliation page Contents</h3>
                <p>On the right side of the page, the list of process conflicts is displayed into a table.<br />
                A process conflict is raised when the same program is running on several machines.</p>
                <p>So the tables lists, for each conflict:</p>
                <ul>
                    <li>the name of the program incriminated,</li>
                    <li>the list of addresses where it is running,</li>
                    <li>the uptime of the corresponding process on each address,</li>
                    <li>for each process, a list of actions helping to the solving of this conflict:<ul>
                        <li>Stop the process,</li>
                        <li>Keep this process (and Stop all others),</li>
                    </ul></li>
                    <li>for each process, a list of automatic strategies (<a href="index.html#conciliation-note" class="intLink">details</a>) helping to the solving of this conflict.</li>
                </ul>
                <p>The left side of the page contains a simple box that enables the user to perform a global conciliation on all conflicts, using one of the automatic strategies.</p>


				<h2 id="address-page">Address page</h2>
                <p>The Address page of Supvisors is a bit less "sparse" than the web page provided by Supervisor.<br />
                It shows the status of the address, as seen by the local Supvisors instance, enables the user to command the processes declared on this address
                and provides statistics that may be useful at software integration time.</p>

				<figure>
					<img src="img/supvisors_address_page.png" alt="Address page">
					<figcaption>Supvisors Address page</figcaption>
				</figure>

                <h3>Address page Header</h3>
                <p>The status of the Address is displayed on the left side of the header:</p>
                <ul>
                    <li>the name of the address, marked with the &#10026; sign if it corresponds to the "Master",</li>
                    <li>the current loading of the processes running on this address,</li>
                    <li>the state of this address,</li>
                    <li>the date of the last tick received from Supervisor on this address.</li>
                </ul>

                <p>In the middle of the header, the 'Statistics Period' box enables the user to choose the period used for the statistics of this page.<br />
                The periods can be updated in the <a href="index.html#supvisors-section" class="intLink">Supvisors section</a> of the Supervisor configuration file.</p>

                <p>On the right side, 4 buttons are available:</p>
                <ul>
                    <li><img src="img/stop_40.png" alt="Stop button"> stops all processes handled by Supervisor on this address,</li>
                    <li><img src="img/restart_40.png" alt="Restart button"> restarts Supervisor on this address,</li>
                    <li><img src="img/shutdown_40.png" alt="Shutdown button"> shuts down Supervisor on this address,</li>
                    <li><img src="img/reload_30.png" alt="Refresh button" class="button"> refreshes the current page.</li>
                </ul>

                <h3>Address page Contents</h3>
                <p>The contents of the Address page is divided in two parts.</p>

                <p>The upper part looks like the page provided by Supervisor. Indeed, it lists the programs that are configured in Supervisor,
                it presents their current state with an associated description and enables the user to perform some actions on them:
                log tail (with a refresh button, click on the name itself),
                <span class="button">Start</span>, <span class="button">Stop</span>, <span class="button">Restart</span>,
                <span class="button">Clear</span> log, <span class="button">Tail</span> log (auto-refreshed).</p>
                <p>Supvisors shows additional information for each process, such as:</p>
                <ul>
                    <li>the loading declared for the process in the <a href="index.html#deployment-file" class="intLink">deployment file</a>,</li>
                    <li>the CPU usage of the process during the last period (only if the process is <code>RUNNING</code>),</li>
                    <li>the instant memory (Resident Set Size) occupation of the process at the last period tick (only if the process is <code>RUNNING</code>),</li>
                </ul>

                <p>A click on the CPU or RAM measures shows detailed statistics about the process.<br />
                More particularly, Supvisors shows a graph built from the series of measures taken from the selected resource:</p>
                <ul>
                    <li>the history of the values with a plain line,</li>
                    <li>the mean value with a dashed line and value in the top right corner,</li>
                    <li>the linear regression with a straight dotted line,</li>
                    <li>the standard deviation with a colored area around the mean value.</li>
                </ul>

                <p>Underneath is a table showing for both CPU and Memory:</p>
                <ul>
                    <li>the last measure,</li>
                    <li>the mean value,</li>
                    <li>the value of the slope of the linear regression,</li>
                    <li>the value of the standard deviation.</li>
                </ul>

                <p>A color and a sign are associated to the last value, so that:</p>
                <ul>
                    <li>green and &#8599; point out a significant increase of the value since the last measure,</li>
                    <li>red and &#8600; point out a significant decrease of the value since the last measure,</li>
                    <li>blue and &#8605; point out the stability of the value since the last measure,</li>
                </ul>

                <p>The lower part of the page contains CPU, Memory and Network statistics for the considered address.<br />
                The CPU table shows statistics about the CPU on each core of the processor and about the average CPU of the processor.<br />
                The Memory table shows statistics about the amount of used (and not available) memory.<br />
                The Network table shows statistics about the receive and sent flows on each network interface.<br />
                Clicking on a button associated to the resource displays detailed statistics (graph and table), similarly to the process buttons.</p>

                
				<h2 id="application-page">Application page</h2>
                <p>The Application page of Supvisors shows the status of the application, as seen by the requested Supvisors instance,
                enables the user to command the application and its processes, and provides statistics that may be useful at software integration time.</p>

				<figure>
					<img src="img/supvisors_application_page.png" alt="Application page">
					<figcaption>Supvisors Application page</figcaption>
				</figure>

                <h3>Application page Header</h3>
                <p>The status of the Address is displayed on the left side of the header:</p>
                <ul>
                    <li>the name of the application,</li>
                    <li>the state of this address,</li>
                    <li>a led corresponding to the operational status of the application:<ul>
                        <li>empty if not <code>RUNNING</code>,</li>
                        <li>red if <code>RUNNING</code> and at least one major failure is detected,</li>
                        <li>orange if <code>RUNNING</code> and at least one minor failure is detected, and no major failure,</li>
                        <li>green if <code>RUNNING</code> and no failure is detected.</li>
                    </ul></li>
                </ul>

                <p>The second part of the header is the 'Deployment strategy' box that enables the user to choose the strategy to start the application programs listed below.<br />
                Strategies are detailed <a href="index.html#deployment-note" class="intLink">here</a>.</p>

                <p>The third part of the header is the 'Statistics Period' box that enables the user to choose the period used for the statistics of this page.<br />
                The periods can be updated in the <a href="index.html#supvisors-section" class="intLink">Supvisors section</a> of the Supervisor configuration file.</p>

                <p>On the right side, 4 buttons are available:</p>
                <ul>
                    <li><img src="img/start_40.png" alt="Start button"> starts the application,</li>
                    <li><img src="img/stop_40.png" alt="Stop button"> stops the application,</li>
                    <li><img src="img/restart_40.png" alt="Restart button"> restarts the application,</li>
                    <li><img src="img/reload_30.png" alt="Refresh button" class="button"> refreshes the current page.</li>
                </ul>

                <h3>Application page Contents</h3>
                <p>The table lists all the programs belonging to the application, and it shows:</p>
                <ul>
                    <li>the 'synthetic' state of the process (refer to <a href="design.html#synthetic-state-note" class="intLink">this note</a> for details about the synthesis),</li>
                    <li>the address where it runs, if appropriate,</li>
                    <li>the loading declared for the process in the <a href="index.html#deployment-file" class="intLink">deployment file</a>,</li>
                    <li>the CPU usage of the process during the last period (only if the process is <code>RUNNING</code>),</li>
                    <li>the instant memory (Resident Set Size) occupation of the process at the last period tick (only if the process is <code>RUNNING</code>),</li>
                </ul>

                <p>Like the Address page, the Application page enables the user to perform some actions on programs:
                <span class="button">Start</span>, <span class="button">Stop</span>, <span class="button">Restart</span>.<br />
                The difference is that the process is not started necessarily on the address that displays this page.<br />
                Indeed, Supvisors uses the rules of the program (as defined in the <a href="index.html#deployment-file" class="intLink">deployment file</a>)
                and the deployment strategy selected in the header part to choose a relevant address.</p>

                <p>As previously, a click on the CPU or RAM measures shows detailed statistics about the process.</p>

			</section>

		</div>
	</div>
</body>
</html>

